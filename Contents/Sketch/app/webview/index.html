<!doctype html>
<html>
<head>
    <script src="symbolData.js"></script>
</head>
<body>

<!-- Header -->
<h1>Export All Symbols as Assets</h1>
<button id="export">Export Now</button>
<hr/>
<!-- Symbols List -->
<div id="symbol-list"></div>

<script>
    var symbolListDiv = document.getElementById('symbol-list');
    /**
     * Export assets when button is clicked
     */
    var exportBtn = document.getElementById('export');
    exportBtn.onclick = function() {
         data.append("file", "test.zip");

        var xhr = new XMLHttpRequest();
        xhr.withCredentials = true;

        xhr.addEventListener("readystatechange", function () {
          if (this.readyState === 4) {
            console.log(this.responseText);
          }
            xhr.open("POST", "http://localhost:8000/exegesis/sketch_upload/");
            xhr.setRequestHeader("cache-control", "no-cache");
            xhr.setRequestHeader("postman-token", "f89ca032-b642-382e-dd96-4140e3c4fa6d");
            xhr.send(data);
        });
    }
    /**
     * Add all symbol data to the interface
     */
    // Ensure symbols exist
    if (typeof symbolData !== 'undefined'
        && true === Array.isArray(symbolData)
        && symbolData.length) {
        // Append each symbol as a new div
        for (var i = 0; i < symbolData.length; i++) {
            var newDiv = document.createElement('div');
            var newDivHdg = document.createElement('h3');
            var symbolNameNode = document.createTextNode(symbolData[i].name);
            newDivHdg.appendChild(symbolNameNode);
            newDiv.appendChild(newDivHdg);
            symbolListDiv.appendChild(newDiv);
        }
    } else {
        symbolListDiv.innerText = 'No symbols found!';
    }
</script>
</body>
</html>